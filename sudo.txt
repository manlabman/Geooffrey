Diferencia entre su y sudo

ğŸ–¥ï¸ su (Switch User)

Â· PropÃ³sito: Cambiar completamente a otro usuario (por defecto, root).
Â· AutenticaciÃ³n: Requiere la contraseÃ±a del usuario objetivo (ej: contraseÃ±a de root).
Â· Ambiente: Carga el entorno shell y variables del usuario objetivo.
Â· Uso:
  ```bash
  su                 # Cambia a root (solicita contraseÃ±a de root)
  su - usuario       # Cambia a "usuario" y carga su entorno
  ```
Â· Permisos: Otorga todos los privilegios del usuario objetivo hasta que se cierre la sesiÃ³n (exit).

âš¡ sudo (Super User DO)

Â· PropÃ³sito: Ejecutar un comando especÃ­fico con privilegios elevados.
Â· AutenticaciÃ³n: Requiere la contraseÃ±a del usuario actual (no la de root).
Â· Ambiente: Mantiene el entorno del usuario original (a menos que se use -i o -H).
Â· Uso:
  ```bash
  sudo comando        # Ejecuta "comando" como root
  sudo -u usuario comando  # Ejecuta "comando" como "usuario"
  ```
Â· ConfiguraciÃ³n: Control granular mediante /etc/sudoers (permite restringir comandos especÃ­ficos por usuario).
Â· Registro: Registra cada comando ejecutado en /var/log/auth.log (auditorÃ­a).

---

ğŸ” Tabla Comparativa

CaracterÃ­stica su sudo
ContraseÃ±a requerida Del usuario objetivo Del usuario actual
Alcance SesiÃ³n completa Por comando
AuditorÃ­a Limitada (solo inicio sesiÃ³n) Detallada (por comando)
ConfiguraciÃ³n Global (todos o nada) Granular (por usuario/comando)
Variables de entorno Carga las del usuario objetivo Mantiene las del usuario actual

---

âš ï¸ Seguridad y Mejores PrÃ¡cticas

1. sudo es mÃ¡s seguro:
   Â· No comparte la contraseÃ±a de root.
   Â· Mayor control sobre permisos.
   Â· Registro detallado de acciones.
2. Evitar su root:
   Â· Deshabilitar login directo de root (sudo passwd -l root en algunas distros).
   Â· Usar sudo -i para una shell root interactiva si es necesario.
3. Configurar sudoers:
   Â· Editar con visudo para evitar errores.
   Â· Ejemplo de regla:
     ```
     usuario ALL=(ALL) NOPASSWD: /usr/bin/apt update
     ```

---

ğŸ”„ Uso HÃ­brido ComÃºn

Â· sudo su: Cambia a root usando la contraseÃ±a del usuario actual (requiere configurar sudoers).
Â· sudo -i: Simula un login de root (carga entorno root).

---

ğŸ“Œ ConclusiÃ³n

Â· Usa sudo para tareas administrativas esporÃ¡dicas (mayor seguridad y auditorÃ­a).
Â· Usa su solo cuando necesites una sesiÃ³n prolongada como otro usuario (ej: mantenimiento).
Â· En sistemas modernos, sudo es la opciÃ³n recomendada por defecto.
